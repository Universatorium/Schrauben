extends layout

block content
  .chart-container
    .chart1
      canvas(id="top3Hersteller", width="80", height="60")
      canvas(id="SchraubePerMonths", width="80", height="60")


    .chart2
      canvas(id="top3Schrauben", width="80", height="60")

    .chart3   
      canvas(id="bestdayever", width="80", height="60")
      canvas(id="bestDayOfWeek", width="80", height="60")

    .chart1  
      h1 Umsatz fÃ¼r #{schraubenart} Monat #{monat}

      form(action="/" method="GET")
        select(id='schraubenartDropdown' name="schraubenart")
          option(value=''>Alle Schraubenarten)
          each schraubenart in schraubenarten
            option(value=schraubenart)= schraubenart
        select(id='monatDropdown' name="monat")
          option(value=''>Alle Monate)
          each monat in monate
            option(value=monat)= monat
        button(type="submit") Umsatz anzeigen
    



  each chart in charts
    script(src=`/javascripts/${chart}.js`)
    

  script.
    const topSchraubenData = !{JSON.stringify(topSchrauben)};
    drawTop3SchraubenChart(topSchraubenData);
    const topHerstellerData = !{JSON.stringify(topHersteller)};
    drawTop3HerstellerChart(topHerstellerData);
    const bestDayData = !{JSON.stringify(bestday)};
    drawbestdayever(bestDayData);
    const bestDayofWeekData = !{JSON.stringify(bestDayOfWeek)};
    drawBestDayOfWeekChart(bestDayofWeekData);
    const umsatz = !{JSON.stringify(umsatzData)};
    drawSchraubePerMonths(umsatz);
